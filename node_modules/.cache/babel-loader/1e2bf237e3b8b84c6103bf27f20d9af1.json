{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\GitHub\\\\currency-converter\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Block } from './Block';\nimport './index.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [fromCurrensy, setFromCurrensy] = React.useState('UAH');\n  const [toCurrensy, setToCurrensy] = React.useState('USD');\n  const [fromPrice, setFromPrice] = React.useState(0);\n  const [toPrice, setToPrice] = React.useState(1);\n  const ratesRef = React.useRef({});\n  React.useEffect(() => {\n    fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json').then(response => response.json()).then(data => {\n      const transformedData = data.reduce((acc, item) => {\n        acc[item.cc] = item.rate;\n        return acc;\n      }, {});\n      transformedData['UAH'] = 1;\n      ratesRef.current = transformedData;\n      onChangeToPrice(1);\n    }).catch(error => console.error('Ошибка при запросе:', error));\n  }, []);\n\n  const onChangeFromPrice = value => {\n    const price = value / ratesRef.current[toCurrensy];\n    const result = price * ratesRef.current[fromCurrensy];\n    setFromPrice(value);\n    setToPrice(result.toFixed(2));\n  };\n\n  const onChangeToPrice = value => {\n    const price = value / ratesRef.current[fromCurrensy];\n    const result = price * ratesRef.current[toCurrensy];\n    setFromPrice(result.toFixed(2));\n    setToPrice(value);\n  };\n\n  React.useEffect(() => {\n    onChangeFromPrice(fromPrice);\n  }, [fromCurrensy]);\n  React.useEffect(() => {\n    onChangeToPrice(toPrice);\n  }, [toCurrensy]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Block, {\n      value: fromPrice,\n      currency: fromCurrensy,\n      onChangeCurrency: setFromCurrensy,\n      onChangeValue: onChangeFromPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Block, {\n      value: toPrice,\n      currency: toCurrensy,\n      onChangeCurrency: setToCurrensy,\n      onChangeValue: onChangeToPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"MFZL/5M10WfUb3k9jpCvMyrZGlg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Block","App","fromCurrensy","setFromCurrensy","useState","toCurrensy","setToCurrensy","fromPrice","setFromPrice","toPrice","setToPrice","ratesRef","useRef","useEffect","fetch","then","response","json","data","transformedData","reduce","acc","item","cc","rate","current","onChangeToPrice","catch","error","console","onChangeFromPrice","value","price","result","toFixed"],"sources":["C:/Users/Dell/Documents/GitHub/currency-converter/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport {Block} from './Block';\r\nimport './index.scss';\r\n\r\nfunction App() {\r\n    const [fromCurrensy, setFromCurrensy] = React.useState('UAH');\r\n    const [toCurrensy, setToCurrensy] = React.useState('USD');\r\n    const [fromPrice, setFromPrice] = React.useState(0);\r\n    const [toPrice, setToPrice] = React.useState(1);\r\n\r\n\r\n    const ratesRef = React.useRef({});\r\n\r\n    React.useEffect(() => {\r\n        fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                const transformedData = data.reduce((acc, item) => {\r\n                    acc[item.cc] = item.rate;\r\n                    return acc;\r\n                }, {});\r\n                transformedData['UAH'] = 1;\r\n                ratesRef.current = transformedData;\r\n                onChangeToPrice(1)\r\n            })\r\n            .catch(error => console.error('Ошибка при запросе:', error));\r\n    }, []);\r\n\r\n\r\n    const onChangeFromPrice = (value) => {\r\n        const price = value / ratesRef.current[toCurrensy];\r\n        const result = price * ratesRef.current[fromCurrensy];\r\n\r\n        setFromPrice(value);\r\n        setToPrice(result.toFixed(2));\r\n    }\r\n\r\n    const onChangeToPrice = (value) => {\r\n        const price = value / ratesRef.current[fromCurrensy];\r\n        const result = price * ratesRef.current[toCurrensy];\r\n\r\n        setFromPrice(result.toFixed(2));\r\n        setToPrice(value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        onChangeFromPrice(fromPrice);\r\n    }, [fromCurrensy]);\r\n\r\n    React.useEffect(() => {\r\n        onChangeToPrice(toPrice);\r\n    }, [toCurrensy]);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Block value={fromPrice} currency={fromCurrensy} onChangeCurrency={setFromCurrensy}\r\n                   onChangeValue={onChangeFromPrice}/>\r\n            <Block value={toPrice} currency={toCurrensy} onChangeCurrency={setToCurrensy}\r\n                   onChangeValue={onChangeToPrice}/>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}